<!DOCTYPE html>
<html lang="fa" dir="rtl">
<head>
  <meta charset="UTF-8" />
  <title>مدیریت آزمون‌ها</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2.42.3/dist/umd/supabase.min.js"></script>
  <link href="https://fonts.googleapis.com/css2?family=Vazirmatn:wght@400;700&display=swap" rel="stylesheet">
  <style>
    body { 
      font-family: 'Vazirmatn', Tahoma, sans-serif; 
      background: #f8f8f8; 
      margin: 0; 
      padding: 20px; 
    }
    h1 { text-align: center; color: #333; }
    .container { max-width: 1100px; margin: auto; }
    table { width: 100%; border-collapse: collapse; margin-top: 20px; }
    th, td { border: 1px solid #ddd; padding: 10px; text-align: center; }
    th { background: #2c3e50; color: #fff; }
    tr:nth-child(even) { background: #f2f2f2; }
    tr:hover { background: #e9f7ef; }
    button { padding: 6px 12px; margin: 2px; border: none; border-radius: 4px; cursor: pointer; }
    .add-btn { background: #27ae60; color: #fff; width: 100%; font-size: 16px; }
    .edit-btn { background: #2980b9; color: #fff; }
    .delete-btn { background: #c0392b; color: #fff; }
    .result-btn { background: #f39c12; color: #fff; }
    .questions-btn { background: #16a085; color: #fff; }
    #formBox, #questionFormBox { 
      background: #fff; 
      padding: 20px; 
      border-radius: 8px; 
      box-shadow: 0 3px 10px rgba(0,0,0,0.1); 
      margin-bottom: 20px; 
    }
    label { display: block; margin-top: 10px; color: #555; font-weight: bold; }
    input[type="text"], 
    input[type="number"], 
    input[type="datetime-local"], 
    textarea { 
      width: 100%; 
      padding: 10px; 
      margin: 8px 0; 
      border: 1px solid #ddd; 
      border-radius: 4px; 
      box-sizing: border-box; 
    }
    input:focus, textarea:focus { outline: none; border-color: #3498db; }
    #loading { display: none; text-align: center; margin: 20px 0; }
    .spinner { 
      border: 4px solid #f3f3f3; 
      border-top: 4px solid #3498db; 
      border-radius: 50%; 
      width: 30px; 
      height: 30px; 
      animation: spin 1s linear infinite; 
      margin: auto; 
    }
    @keyframes spin { 
      0% { transform: rotate(0deg); } 
      100% { transform: rotate(360deg); } 
    }
    #error, #success, #qError, #qSuccess { 
      display: none; 
      padding: 10px; 
      margin-top: 15px; 
      border-radius: 4px; 
      text-align: center; 
    }
    #error, #qError { background: rgba(231,76,60,0.8); color: #fff; }
    #success, #qSuccess { background: rgba(46,204,113,0.8); color: #fff; }
    .back { margin-bottom: 18px; text-align: right; }
    .back a { 
      background: #4e54c8; 
      color: #fff; 
      padding: 8px 18px; 
      border-radius: 5px; 
      text-decoration: none; 
    }
    #resultsBox { 
      margin-top: 30px; 
      background: #fff; 
      padding: 18px; 
      border-radius: 8px; 
      box-shadow: 0 2px 8px rgba(0,0,0,0.05); 
    }
    #resultsBox table { margin: auto; width: 90%; }
    #resultsBox th { background: #f39c12; }
    #questionsSection { margin-top: 40px; }
  </style>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/xlsx/0.18.5/xlsx.full.min.js"></script>
</head>
<body>
  <div class="container">
    <div class="back">
      <a href="admin-dashboard.html">بازگشت به داشبورد ادمین</a>
    </div>
    <h1>مدیریت آزمون‌ها</h1>
    <div id="formBox">
      <h3 id="formTitle">افزودن آزمون جدید</h3>
      <form id="examForm">
        <input type="hidden" id="editId" />
        <label for="title">عنوان آزمون:</label>
        <input type="text" id="title" required />
        <label for="maxAttempts">تعداد دفعات مجاز شرکت در آزمون:</label>
        <input type="number" id="maxAttempts" min="1" max="20" value="1" required />
        <label for="durationMinutes">مدت زمان آزمون (دقیقه):</label>
        <input type="number" id="durationMinutes" min="1" max="300" value="20" required />
        <label for="questionsToShow">تعداد سوالات نمایشی در آزمون:</label>
        <input type="number" id="questionsToShow" min="1" max="100" value="2" required />
        <label for="startAt">تاریخ و ساعت شروع آزمون:</label>
        <input type="datetime-local" id="startAt" required />
        <label for="endAt">تاریخ و ساعت پایان آزمون (اختیاری):</label>
        <input type="datetime-local" id="endAt" />
        <button type="submit" id="submitBtn" class="add-btn">ذخیره</button>
      </form>
      <div id="error"></div>
      <div id="success"></div>
    </div>
        <div id="loading"><div class="spinner"></div></div>
    <table>
      <thead>
        <tr>
          <th>شناسه</th>
          <th>عنوان</th>
          <th>تعداد دفعات مجاز</th>
          <th>مدت زمان (دقیقه)</th>
          <th>تعداد سوالات نمایشی</th>
          <th>زمان شروع</th>
          <th>زمان پایان</th>
          <th>تاریخ ایجاد</th>
          <th>وضعیت</th>
          <th>عملیات</th>
        </tr>
      </thead>
      <tbody id="examsList"></tbody>
    </table>
    <div id="resultsBox" style="display:none;"></div>
    <div id="questionsSection" style="display:none;">
      <h3>سوالات آزمون: <span id="examTitle"></span></h3>
      <div id="questionFormBox">
        <h4>افزودن سوال جدید</h4>
        <form id="questionForm">
          <input type="hidden" id="examId" />
          <label for="questionText">متن سوال:</label>
          <textarea id="questionText" rows="3" required></textarea>
          <label for="option1">گزینه 1:</label>
          <input type="text" id="option1" required />
          <label for="option2">گزینه 2:</label>
          <input type="text" id="option2" required />
          <label for="option3">گزینه 3:</label>
          <input type="text" id="option3" required />
          <label for="option4">گزینه 4:</label>
          <input type="text" id="option4" required />
          <label for="correctOption">گزینه صحیح (1-4):</label>
          <input type="number" id="correctOption" min="1" max="4" required />
          <button type="submit" class="add-btn">افزودن سوال</button>
        </form>
        <div id="qError"></div>
        <div id="qSuccess"></div>
      </div>
      <table>
        <thead>
          <tr>
            <th>شناسه</th>
            <th>متن سوال</th>
            <th>گزینه‌ها</th>
            <th>گزینه صحیح</th>
            <th>عملیات</th>
          </tr>
        </thead>
        <tbody id="questionsList"></tbody>
      </table>
    </div>
  </div>

  <script>
   const SUPABASE_URL = 'https://oyxfgwxhylgtqydlbzjc.supabase.co';
const SUPABASE_KEY = 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im95eGZnd3hoeWxndHF5ZGxiempjIiwicm9sZSI6ImFub24iLCJpYXQiOjE3MDExNTg5NzAsImV4cCI6MjAxNjczNDk3MH0.sEZehnNz9KRPnWoGQYnEG5Oj6I_GMPQgnCHIvkKnXL4';
    const const supabase = window.supabase.createClient(SUPABASE_URL, SUPABASE_KEY);

    // عناصر DOM
    const form = document.getElementById('examForm');
    const editIdInput = document.getElementById('editId');
    const formTitle = document.getElementById('formTitle');
    const submitBtn = document.getElementById('submitBtn');
    const maxAttemptsInput = document.getElementById('maxAttempts');
    const durationInput = document.getElementById('durationMinutes');
    const startAtInput = document.getElementById('startAt');
    const endAtInput = document.getElementById('endAt');
    const list = document.getElementById('examsList');
    const loading = document.getElementById('loading');
    const error = document.getElementById('error');
    const success = document.getElementById('success');
    const resultsBox = document.getElementById('resultsBox');
    const questionsSection = document.getElementById('questionsSection');
    const questionsList = document.getElementById('questionsList');
    const questionForm = document.getElementById('questionForm');
    const qError = document.getElementById('qError');
    const qSuccess = document.getElementById('qSuccess');
        // نمایش/مخفی کردن loading spinner
    function showLoading(show) {
        loading.style.display = show ? 'block' : 'none';
    }

    // نمایش پیام خطا
    function showError(message) {
        error.textContent = message;
        error.style.display = 'block';
        success.style.display = 'none';
        setTimeout(() => error.style.display = 'none', 5000);
    }

    // نمایش پیام موفقیت
    function showSuccess(message) {
        success.textContent = message;
        success.style.display = 'block';
        error.style.display = 'none';
        setTimeout(() => success.style.display = 'none', 5000);
    }

    // مخفی کردن پیام‌ها
    function hideMessages() {
        error.style.display = 'none';
        success.style.display = 'none';
    }

    // دریافت و نمایش لیست آزمون‌ها
    async function loadExams() {
        showLoading(true); 
        hideMessages();
        const { data, error } = await supabase.from('exams').select('*').order('id');
        if (error) {
            showError(error.message || 'خطا در دریافت داده‌ها');
            list.innerHTML = '<tr><td colspan="10">خطا در دریافت داده‌ها</td></tr>';
        } else {
            list.innerHTML = data.length ? data.map(exam => `
                <tr>
                    <td>${exam.id}</td>
                    <td>${exam.title}</td>
                    <td>${exam.max_attempts || 1}</td>
                    <td>${exam.duration_minutes || 20}</td>
                    <td>${exam.questions_to_show || 2}</td>
                    <td>${exam.start_at ? new Date(exam.start_at).toLocaleString('fa-IR') : '-'}</td>
                    <td>${exam.end_at ? new Date(exam.end_at).toLocaleString('fa-IR') : '-'}</td>
                    <td>${exam.created_at ? new Date(exam.created_at).toLocaleString('fa-IR') : ''}</td>
                    <td>
                        <input type="checkbox" class="active-toggle" data-id="${exam.id}" ${exam.active ? 'checked' : ''} />
                        <span style="font-size:12px; color:${exam.active ? '#27ae60' : '#c0392b'}">${exam.active ? 'فعال' : 'غیرفعال'}</span>
                    </td>
                    <td>
                        <button class="edit-btn" data-id="${exam.id}" 
                            data-title="${exam.title}" 
                            data-max_attempts="${exam.max_attempts || 1}"
                            data-duration="${exam.duration_minutes || 20}"
                            data-questions_to_show="${exam.questions_to_show || 2}"
                            data-start="${exam.start_at ? new Date(exam.start_at).toISOString().slice(0,16) : ''}"
                            data-end="${exam.end_at ? new Date(exam.end_at).toISOString().slice(0,16) : ''}"
                        >ویرایش</button>
                        <button class="delete-btn" data-id="${exam.id}">حذف</button>
                        <button class="result-btn" data-id="${exam.id}" data-title="${exam.title}">مشاهده نتایج</button>
                        <button class="questions-btn" data-id="${exam.id}" data-title="${exam.title}">سوالات آزمون</button>
                    </td>
                </tr>`).join('') : '<tr><td colspan="10">آزمونی یافت نشد</td></tr>';
        }
        showLoading(false);
    }

    // ارسال فرم افزودن/ویرایش آزمون
    form.addEventListener('submit', async e => {
        e.preventDefault();
        hideMessages();
        const id = editIdInput.value;
        const title = document.getElementById('title').value.trim();
        const maxAttempts = parseInt(maxAttemptsInput.value) || 1;
        const duration = parseInt(durationInput.value) || 20;
        const questionsToShow = parseInt(document.getElementById('questionsToShow').value) || 2;
        const startAt = startAtInput.value ? new Date(startAtInput.value).toISOString() : null;
        const endAt = endAtInput.value ? new Date(endAtInput.value).toISOString() : null;

        if (!title) return showError('عنوان آزمون را وارد کنید.');
        if (maxAttempts < 1) return showError('تعداد دفعات مجاز باید حداقل ۱ باشد.');
        if (duration < 1) return showError('مدت آزمون باید حداقل ۱ دقیقه باشد.');
        if (questionsToShow < 1) return showError('تعداد سوالات نمایشی باید حداقل ۱ باشد.');
        if (!startAt) return showError('تاریخ و ساعت شروع آزمون را وارد کنید.');

        showLoading(true);

        // چک تکراری نبودن عنوان آزمون
        const { data: exists } = await supabase.from('exams').select('id').eq('title', title);
        if (exists && exists.length && (!id || exists[0].id != id)) {
            showError('آزمونی با این عنوان قبلاً ثبت شده است!');
            showLoading(false);
            return;
        }

        const examData = {
            title,
            max_attempts: maxAttempts,
            duration_minutes: duration,
            questions_to_show: questionsToShow,
            start_at: startAt,
            end_at: endAt || null,
            active: true
        };

        if (id) {
            const { error } = await supabase.from('exams').update(examData).eq('id', id);
            if (error) showError(error.message);
            else showSuccess('آزمون با موفقیت ویرایش شد');
        } else {
            const { error } = await supabase.from('exams').insert([examData]);
            if (error) showError(error.message);
            else showSuccess('آزمون جدید اضافه شد');
        }
        form.reset();
        editIdInput.value = '';
        formTitle.textContent = 'افزودن آزمون جدید';
        submitBtn.textContent = 'ذخیره';
        maxAttemptsInput.value = 1;
        durationInput.value = 20;
        document.getElementById('questionsToShow').value = 2;
        startAtInput.value = '';
        endAtInput.value = '';
        await loadExams();
        showLoading(false);
    });

    // رویداد کلیک برای دکمه‌های عملیات
    document.addEventListener('click', async e => {
        const btn = e.target;
        if (!btn.dataset.id) return;
        const id = btn.dataset.id;

        if (btn.classList.contains('edit-btn')) {
            editIdInput.value = id;
            document.getElementById('title').value = btn.dataset.title;
            maxAttemptsInput.value = btn.dataset.max_attempts || 1;
            durationInput.value = btn.dataset.duration || 20;
            document.getElementById('questionsToShow').value = btn.dataset.questions_to_show || 2;
            startAtInput.value = btn.dataset.start || '';
            endAtInput.value = btn.dataset.end || '';
            formTitle.textContent = 'ویرایش آزمون';
            submitBtn.textContent = 'به‌روزرسانی';
            window.scrollTo({ top: 0, behavior: 'smooth' });
        }

        else if (btn.classList.contains('delete-btn')) {
            if (confirm('آیا از حذف این آزمون مطمئن هستید؟')) {
                showLoading(true);
                const { error } = await supabase.from('exams').delete().eq('id', id);
                if (error) showError(error.message);
                else {
                    showSuccess('آزمون با موفقیت حذف شد');
                    await loadExams();
                }
                showLoading(false);
            }
        }

        else if (btn.classList.contains('result-btn')) {
            showExamResults(id, btn.dataset.title);
        }

        else if (btn.classList.contains('questions-btn')) {
            document.getElementById('examId').value = id;
            document.getElementById('examTitle').textContent = btn.dataset.title;
            questionsSection.style.display = 'block';
            resultsBox.style.display = 'none';
            await loadQuestions(id);
            window.scrollTo({ top: questionsSection.offsetTop, behavior: 'smooth' });
        }
    });

    // تغییر وضعیت فعال/غیرفعال
    document.addEventListener('change', async e => {
        if (e.target.classList.contains('active-toggle')) {
            const id = e.target.dataset.id;
            const active = e.target.checked;
            showLoading(true);
            const { error } = await supabase.from('exams').update({ active }).eq('id', id);
            if (error) {
                showError(error.message);
                e.target.checked = !active;
            }
            await loadExams();
            showLoading(false);
        }
    });

    // نمایش نتایج آزمون
    async function showExamResults(examId, examTitle) {
        resultsBox.style.display = 'block';
        resultsBox.innerHTML = `<h3>نتایج آزمون: ${examTitle}</h3><div class="spinner"></div>`;

        const numericExamId = Number(examId);

        // گرفتن اطلاعات آزمون برای نمایش تعداد سوالات نمایشی
        const { data: examData } = await supabase
            .from('exams')
            .select('questions_to_show')
            .eq('id', numericExamId)
            .single();

        // گرفتن همه نتایج این آزمون
        const { data: results, error: resErr } = await supabase
            .from('exam_results')
            .select('user_id, score, id')
            .eq('exam_id', numericExamId);

        if (resErr) {
            resultsBox.innerHTML = 'خطا در دریافت نتایج!';
            return;
        }
        if (!results || !results.length) {
            resultsBox.innerHTML = 'هنوز هیچ کاربری در این آزمون شرکت نکرده است!';
            return;
        }

        // گرفتن نام کاربری‌ها
        const { data: users, error: uErr } = await supabase
            .from('users')
            .select('id, username');
        if (uErr) {
            resultsBox.innerHTML = 'خطا در دریافت کاربران!';
            return;
        }

        // ساخت آرایه نهایی: بیشترین نمره و تعداد دفعات شرکت هر کاربر
        const userResultsMap = {};
        results.forEach(res => {
            if (!userResultsMap[res.user_id]) {
                userResultsMap[res.user_id] = { maxScore: res.score, count: 1, id: res.id };
            } else {
                userResultsMap[res.user_id].count += 1;
                if (res.score > userResultsMap[res.user_id].maxScore) {
                    userResultsMap[res.user_id].maxScore = res.score;
                    userResultsMap[res.user_id].id = res.id;
                }
            }
        });

        const finalResults = Object.entries(userResultsMap).map(([user_id, data]) => {
            const user = users.find(u => u.id == user_id);
            return {
                user_id,
                username: user ? user.username : 'نامشخص',
                maxScore: data.maxScore,
                count: data.count,
                result_id: data.id,
                questionsShown: examData?.questions_to_show || 2
            };
        });

        // ساخت جدول نتایج با دکمه حذف تکی
        let table = `
            <table>
                <thead>
                    <tr>
                        <th>ردیف</th>
                        <th>نام کاربری</th>
                        <th>بیشترین نمره</th>
                        <th>تعداد سوالات نمایش داده شده</th>
                        <th>تعداد دفعات شرکت</th>
                        <th>عملیات</th>
                    </tr>
                </thead>
                <tbody>
                    ${finalResults.map((r, i) => `
                        <tr>
                            <td>${i + 1}</td>
                            <td>${r.username}</td>
                            <td>${r.maxScore}</td>
                            <td>${r.questionsShown}</td>
                            <td>${r.count}</td>
                            <td>
                                <button class="delete-user-result-btn" data-userid="${r.user_id}" data-examid="${examId}">حذف</button>
                            </td>
                        </tr>
                    `).join('')}
                </tbody>
            </table>
            <button id="exportExcelBtn" style="margin-top:18px;background:#27ae60;color:#fff;padding:8px 22px;border-radius:6px;font-size:15px;">دانلود اکسل</button>
            <button id="deleteAllResultsBtn" style="margin-top:18px;background:#c0392b;color:#fff;padding:8px 22px;border-radius:6px;font-size:15px;margin-right:8px;">حذف همه نتایج</button>
            <button id="closeResultsBtn" style="margin-top:18px;background:#b2bec3;color:#222;padding:8px 22px;border-radius:6px;font-size:15px;margin-right:8px;">بستن</button>
        `;
        resultsBox.innerHTML = table;

        // رفع مشکل چندبار اجرا شدن رویداد حذف تکی
        const oldBox = resultsBox;
        const newBox = oldBox.cloneNode(true);
        oldBox.parentNode.replaceChild(newBox, oldBox);

        // دکمه بستن نتایج
        newBox.querySelector('#closeResultsBtn').onclick = () => {
            newBox.style.display = 'none';
            newBox.innerHTML = '';
        };

        // دکمه خروجی اکسل
        newBox.querySelector('#exportExcelBtn').onclick = function() {
            const exportData = finalResults.map(item => ({
                "نام کاربری": item.username,
                "بیشترین نمره": item.maxScore,
                "تعداد سوالات نمایشی": item.questionsShown,
                "تعداد دفعات شرکت": item.count
            }));
            const ws = XLSX.utils.json_to_sheet(exportData);
            const wb = XLSX.utils.book_new();
            XLSX.utils.book_append_sheet(wb, ws, "Results");
            XLSX.writeFile(wb, (examTitle || "results") + ".xlsx");
        };

        // حذف همه نتایج
        newBox.querySelector('#deleteAllResultsBtn').onclick = async function() {
            if (confirm('آیا از حذف همه نتایج کاربران این آزمون مطمئن هستید؟')) {
                const { error } = await supabase.from('exam_results').delete().eq('exam_id', examId);
                if (error) alert('خطا در حذف!');
                else {
                    alert('همه نتایج کاربران این آزمون حذف شد.');
                    newBox.style.display = 'none';
                    newBox.innerHTML = '';
                }
            }
        };

        // حذف تکی نتیجه کاربر
        newBox.addEventListener('click', async function(e) {
            if (e.target.classList.contains('delete-user-result-btn')) {
                const userId = e.target.dataset.userid;
                if (confirm('آیا از حذف نتیجه این کاربر مطمئن هستید؟')) {
                    const best = results.find(r => r.user_id == userId && r.score == userResultsMap[userId].maxScore);
                    if (best) {
                        const { error } = await supabase.from('exam_results').delete().eq('id', best.id);
                        if (error) alert('خطا در حذف!');
                        else {
                            alert('نتیجه کاربر حذف شد.');
                            await showExamResults(examId, examTitle);
                        }
                    }
                }
            }
        });
    }

    // دریافت و نمایش سوالات آزمون
    async function loadQuestions(examId) {
        showLoading(true);
        const { data, error } = await supabase
            .from('exam_questions')
            .select('*')
            .eq('exam_id', examId)
            .order('id');

        if (error) {
            showError('خطا در دریافت سوالات: ' + error.message);
            questionsList.innerHTML = '<tr><td colspan="5">خطا در دریافت سوالات</td></tr>';
        } else {
            questionsList.innerHTML = data.length ? data.map(q => `
                <tr>
                    <td>${q.id}</td>
                    <td>${q.question_text}</td>
                    <td>
                        1) ${q.option1}<br>
                        2) ${q.option2}<br>
                        3) ${q.option3}<br>
                        4) ${q.option4}
                    </td>
                    <td>${q.correct_option}</td>
                    <td>
                        <button class="delete-question-btn" data-id="${q.id}">حذف</button>
                    </td>
                </tr>
            `).join('') : '<tr><td colspan="5">هنوز سوالی برای این آزمون ثبت نشده است</td></tr>';
        }
        showLoading(false);
    }

    // ارسال فرم افزودن سوال
    questionForm.addEventListener('submit', async e => {
        e.preventDefault();
        const examId = document.getElementById('examId').value;
        const questionText = document.getElementById('questionText').value.trim();
        const option1 = document.getElementById('option1').value.trim();
        const option2 = document.getElementById('option2').value.trim();
        const option3 = document.getElementById('option3').value.trim();
        const option4 = document.getElementById('option4').value.trim();
        const correctOption = parseInt(document.getElementById('correctOption').value);

        if (!questionText || !option1 || !option2 || !option3 || !option4) {
            qError.textContent = 'لطفاً تمام فیلدها را پر کنید';
            qError.style.display = 'block';
            setTimeout(() => qError.style.display = 'none', 3000);
            return;
        }

        showLoading(true);
        const { error } = await supabase.from('exam_questions').insert([{
            exam_id: examId,
            question_text: questionText,
            option1,
            option2,
            option3,
            option4,
            correct_option: correctOption
        }]);

        if (error) {
            qError.textContent = error.message;
            qError.style.display = 'block';
            setTimeout(() => qError.style.display = 'none', 3000);
        } else {
            qSuccess.textContent = 'سوال با موفقیت اضافه شد';
            qSuccess.style.display = 'block';
            setTimeout(() => qSuccess.style.display = 'none', 3000);
            questionForm.reset();
            await loadQuestions(examId);
        }
        showLoading(false);
    });

    // حذف سوال
    document.addEventListener('click', async e => {
        if (e.target.classList.contains('delete-question-btn')) {
            const id = e.target.dataset.id;
            if (confirm('آیا از حذف این سوال مطمئن هستید؟')) {
                showLoading(true);
                const { error } = await supabase.from('exam_questions').delete().eq('id', id);
                if (error) {
                    qError.textContent = error.message;
                    qError.style.display = 'block';
                    setTimeout(() => qError.style.display = 'none', 3000);
                } else {
                    await loadQuestions(document.getElementById('examId').value);
                }
                showLoading(false);
            }
        }
    });

    // لود اولیه آزمون‌ها
    loadExams();
  </script>
</body>
</html>
